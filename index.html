
<!doctype html>
<html lang="es">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Directorio de Negocios Locales</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            height: 100%;
        }

        html {
            height: 100%;
        }

        /* Franja naranja superior */
        .top-banner {
            background: linear-gradient(135deg, #db3717, #ff4d2e);
            height: 80px;
            width: 100%;
            box-shadow: 0 2px 10px rgba(219, 55, 23, 0.3);
        }

        /* Contenedor principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Logo de la empresa */
        .logo-section {
            text-align: center;
            padding: 30px 0;
            background: white;
            margin-bottom: 0;
        }

        .company-logo {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #151a2b, #2a3142);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(21, 26, 43, 0.3);
        }

        .company-logo svg {
            width: 60px;
            height: 60px;
            fill: #db3717;
        }

        .company-name {
            font-size: 28px;
            font-weight: bold;
            color: #151a2b;
            margin: 0;
        }

        /* Barra de menú */
        .menu-bar {
            background: #151a2b;
            padding: 15px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .menu-content {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .search-container {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .search-btn {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: #db3717;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-btn:hover {
            background: #c12e15;
        }

        .menu-buttons {
            display: flex;
            gap: 15px;
        }

        .menu-btn {
            background: #db3717;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .menu-btn:hover {
            background: #c12e15;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(219, 55, 23, 0.3);
        }

        /* Categorías */
        .categories-section {
            padding: 40px 0;
            background: white;
        }

        .section-title {
            text-align: center;
            font-size: 32px;
            font-weight: bold;
            color: #151a2b;
            margin-bottom: 40px;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .category-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #f0f0f0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(219, 55, 23, 0.15);
            border-color: #db3717;
        }

        .category-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #db3717, #ff4d2e);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .category-name {
            font-size: 18px;
            font-weight: 600;
            color: #151a2b;
            margin-bottom: 8px;
        }

        .category-count {
            font-size: 14px;
            color: #666;
        }

        /* Panel de administración */
        .admin-panel {
            background: #151a2b;
            color: white;
            padding: 30px 0;
            margin-top: 40px;
        }

        .admin-title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 30px;
            color: #db3717;
        }

        .admin-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .admin-btn {
            background: #db3717;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-btn:hover {
            background: #c12e15;
            transform: translateY(-2px);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 80%;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .modal-title {
            font-size: 24px;
            font-weight: bold;
            color: #151a2b;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            padding: 5px;
        }

        .close-btn:hover {
            color: #db3717;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #151a2b;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            border-color: #db3717;
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .submit-btn {
            background: #db3717;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background 0.3s ease;
        }

        .submit-btn:hover {
            background: #c12e15;
        }

        /* Lista de negocios */
        .business-list {
            display: none;
            margin-top: 30px;
        }

        .business-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #db3717;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .business-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(219, 55, 23, 0.15);
        }

        .business-logo {
            text-align: center;
            margin-bottom: 15px;
        }

        .business-logo img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #db3717;
            box-shadow: 0 4px 10px rgba(219, 55, 23, 0.2);
        }

        .business-header {
            text-align: center;
            margin-bottom: 15px;
        }

        .business-name {
            font-size: 22px;
            font-weight: bold;
            color: #151a2b;
            margin: 0 0 8px 0;
        }

        .business-category {
            background: #db3717;
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .business-info {
            color: #666;
            margin-bottom: 15px;
            text-align: center;
            font-size: 14px;
        }

        .business-description {
            color: #333;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: center;
        }

        .business-actions {
            text-align: center;
        }

        .view-profile-btn {
            background: linear-gradient(135deg, #db3717, #ff4d2e);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .view-profile-btn:hover {
            background: linear-gradient(135deg, #c12e15, #db3717);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(219, 55, 23, 0.3);
        }

        /* Página de Administrador */
        .admin-header {
            background: #151a2b;
            padding: 20px 0;
            border-bottom: 3px solid #db3717;
        }

        .admin-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }

        .back-btn {
            background: #db3717;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #c12e15;
            transform: translateY(-2px);
        }

        .admin-page-title {
            color: white;
            font-size: 28px;
            font-weight: bold;
            margin: 0;
        }

        .admin-content {
            padding: 40px 0;
            background: #f5f5f5;
            min-height: 70vh;
        }

        .section-subtitle {
            color: #151a2b;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 25px;
        }

        /* Estadísticas */
        .stats-section {
            margin-bottom: 40px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #db3717;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 36px;
            font-weight: bold;
            color: #db3717;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 16px;
            color: #666;
            font-weight: 600;
        }

        /* Gestión de Negocios */
        .management-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .business-table-container {
            overflow-x: auto;
        }

        .business-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .business-table th {
            background: #151a2b;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #db3717;
        }

        .business-table td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            vertical-align: middle;
        }

        .business-table tr:hover {
            background: #f8f9fa;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .edit-btn, .delete-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .edit-btn {
            background: #28a745;
            color: white;
        }

        .edit-btn:hover {
            background: #218838;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
        }

        .delete-btn:hover {
            background: #c82333;
        }

        /* Responsive Design - Mobile First Approach */
        
        /* Extra Small Devices (phones, 320px and up) */
        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
            }

            .top-banner {
                height: 60px;
            }

            .company-logo {
                width: 80px;
                height: 80px;
            }

            .company-logo svg {
                width: 40px;
                height: 40px;
            }

            .company-name {
                font-size: 20px;
            }

            .logo-section {
                padding: 20px 0;
            }

            .menu-bar {
                padding: 10px 0;
            }

            .menu-content {
                flex-direction: column;
                gap: 10px;
            }

            .search-container {
                min-width: 100%;
            }

            .search-input {
                padding: 10px 40px 10px 12px;
                font-size: 14px;
            }

            .menu-buttons {
                flex-direction: column;
                width: 100%;
                gap: 10px;
            }

            .menu-btn {
                padding: 10px 20px;
                font-size: 14px;
                width: 100%;
            }

            .section-title {
                font-size: 24px;
                margin-bottom: 25px;
            }

            .categories-section {
                padding: 25px 0;
            }

            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }

            .category-card {
                padding: 15px;
            }

            .category-icon {
                width: 45px;
                height: 45px;
                font-size: 20px;
                margin-bottom: 10px;
            }

            .category-name {
                font-size: 14px;
                margin-bottom: 5px;
            }

            .category-count {
                font-size: 12px;
            }

            .admin-panel {
                padding: 20px 0;
            }

            .admin-panel > .container > div {
                flex-direction: column;
                gap: 15px;
            }

            .admin-btn {
                padding: 12px 25px;
                font-size: 14px;
                width: 100%;
                max-width: 200px;
            }

            .modal-content {
                margin: 5% auto;
                width: 95%;
                padding: 20px;
                max-height: 90%;
            }

            .modal-title {
                font-size: 20px;
            }

            .form-input, .form-select, .form-textarea {
                padding: 10px;
                font-size: 14px;
            }

            .business-card {
                padding: 15px;
                margin-bottom: 12px;
            }

            .business-name {
                font-size: 16px;
            }

            .business-category {
                font-size: 10px;
                padding: 3px 8px;
            }

            .business-info {
                font-size: 13px;
                margin-bottom: 8px;
            }

            .business-description {
                font-size: 14px;
            }
        }

        /* Small Devices (landscape phones, 481px and up) */
        @media (min-width: 481px) and (max-width: 768px) {
            .container {
                padding: 0 15px;
            }

            .top-banner {
                height: 70px;
            }

            .company-logo {
                width: 100px;
                height: 100px;
            }

            .company-logo svg {
                width: 50px;
                height: 50px;
            }

            .company-name {
                font-size: 24px;
            }

            .logo-section {
                padding: 25px 0;
            }

            .menu-content {
                flex-direction: column;
                gap: 15px;
            }

            .search-container {
                min-width: 100%;
            }

            .menu-buttons {
                flex-direction: row;
                justify-content: center;
                flex-wrap: wrap;
                gap: 15px;
            }

            .menu-btn {
                flex: 1;
                min-width: 150px;
            }

            .section-title {
                font-size: 28px;
            }

            .categories-section {
                padding: 30px 0;
            }

            .categories-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 18px;
            }

            .category-card {
                padding: 20px;
            }

            .category-icon {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }

            .category-name {
                font-size: 16px;
            }

            .admin-panel > .container > div {
                flex-direction: column;
                gap: 20px;
            }

            .admin-btn {
                width: auto;
                min-width: 150px;
            }

            .modal-content {
                margin: 8% auto;
                width: 90%;
                padding: 25px;
            }

            .business-table-container {
                overflow-x: auto;
            }

            .business-table {
                min-width: 600px;
                font-size: 13px;
            }

            .business-table th,
            .business-table td {
                padding: 8px 6px;
            }

            .action-buttons {
                flex-direction: column;
                gap: 5px;
            }

            .edit-btn, .delete-btn {
                padding: 6px 12px;
                font-size: 12px;
            }
        }

        /* Medium Devices (tablets, 769px and up) */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                padding: 0 20px;
            }

            .menu-content {
                flex-wrap: wrap;
                justify-content: space-between;
            }

            .search-container {
                flex: 1;
                min-width: 300px;
                max-width: 400px;
            }

            .menu-buttons {
                flex-shrink: 0;
            }

            .categories-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;
            }

            .admin-panel > .container > div {
                flex-direction: row;
                justify-content: center;
                align-items: center;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }

            .section-header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }

            .business-table {
                font-size: 14px;
            }

            .modal-content {
                width: 80%;
                max-width: 600px;
            }
        }

        /* Large Devices (desktops, 1025px and up) */
        @media (min-width: 1025px) and (max-width: 1440px) {
            .container {
                max-width: 1200px;
            }

            .categories-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 25px;
            }

            .stats-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .business-table {
                font-size: 15px;
            }
        }

        /* Extra Large Devices (large desktops, 1441px and up) */
        @media (min-width: 1441px) {
            .container {
                max-width: 1400px;
            }

            .categories-grid {
                grid-template-columns: repeat(5, 1fr);
            }

            .section-title {
                font-size: 36px;
            }

            .company-name {
                font-size: 32px;
            }

            .company-logo {
                width: 140px;
                height: 140px;
            }

            .company-logo svg {
                width: 70px;
                height: 70px;
            }
        }

        /* Landscape Orientation Adjustments */
        @media (max-height: 500px) and (orientation: landscape) {
            .logo-section {
                padding: 15px 0;
            }

            .company-logo {
                width: 60px;
                height: 60px;
            }

            .company-logo svg {
                width: 30px;
                height: 30px;
            }

            .company-name {
                font-size: 18px;
            }

            .categories-section {
                padding: 20px 0;
            }

            .section-title {
                font-size: 20px;
                margin-bottom: 20px;
            }

            .category-card {
                padding: 12px;
            }

            .category-icon {
                width: 35px;
                height: 35px;
                font-size: 16px;
                margin-bottom: 8px;
            }

            .category-name {
                font-size: 13px;
            }

            .category-count {
                font-size: 11px;
            }

            .admin-panel {
                padding: 15px 0;
            }
        }

        /* High DPI Displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .company-logo svg,
            .search-btn svg {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
        }

        /* Print Styles */
        @media print {
            .top-banner,
            .menu-bar,
            .admin-panel,
            .modal {
                display: none !important;
            }

            .container {
                max-width: none;
                padding: 0;
            }

            .categories-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 15px;
            }

            .category-card {
                border: 1px solid #ccc;
                break-inside: avoid;
            }

            .business-card {
                border: 1px solid #ccc;
                break-inside: avoid;
                margin-bottom: 10px;
            }
        }

        /* Accessibility - Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Página de Perfil del Negocio */
        .business-profile {
            display: none;
        }

        .profile-hero {
            background: white;
            padding: 40px 0;
            text-align: center;
            border-bottom: 3px solid #db3717;
        }

        .profile-logo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid #db3717;
            box-shadow: 0 8px 25px rgba(219, 55, 23, 0.3);
            margin: 0 auto 20px;
            display: block;
        }

        .profile-name {
            font-size: 36px;
            font-weight: bold;
            color: #151a2b;
            margin: 0 0 10px 0;
        }

        .profile-category {
            background: #db3717;
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 15px;
        }

        .profile-description {
            font-size: 18px;
            color: #666;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        .profile-content {
            padding: 40px 0;
            background: #f5f5f5;
        }

        .contact-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .contact-title {
            font-size: 24px;
            font-weight: bold;
            color: #151a2b;
            margin-bottom: 25px;
            text-align: center;
        }

        .contact-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .contact-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 20px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: white;
        }

        .contact-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .instagram-btn {
            background: linear-gradient(135deg, #E4405F, #C13584);
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366, #128C7E);
        }

        .phone-btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
        }

        .location-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        .gallery-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .gallery-title {
            font-size: 24px;
            font-weight: bold;
            color: #151a2b;
            margin-bottom: 25px;
            text-align: center;
        }

        .gallery-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .gallery-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            display: none;
        }

        .gallery-image.active {
            display: block;
        }

        .gallery-indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .gallery-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ccc;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gallery-dot.active {
            background: #db3717;
            transform: scale(1.2);
        }

        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            .modal-content {
                background: #2a2a2a;
                color: #ffffff;
            }

            .form-input, .form-select, .form-textarea {
                background: #3a3a3a;
                color: #ffffff;
                border-color: #555;
            }

            .form-label {
                color: #ffffff;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Franja naranja superior -->
  <div class="top-banner"></div><!-- Logo de la empresa -->
  <div class="logo-section">
   <div class="container">
    <div class="company-logo">
     <svg viewbox="0 0 24 24"><path d="M12 2L2 7V10C2 16 6 20.5 12 22C18 20.5 22 16 22 10V7L12 2M12 4.14L20 8.23V10C20 15.25 16.87 19.17 12 20.84C7.13 19.17 4 15.25 4 10V8.23L12 4.14Z" />
     </svg>
    </div>
    <h1 class="company-name" id="companyName">Mi Empresa</h1>
   </div>
  </div><!-- Barra de menú -->
  <div class="menu-bar">
   <div class="container">
    <div class="menu-content">
     <div class="search-container"><input type="text" class="search-input" id="searchInput" placeholder="Buscar negocios en tu ciudad..."> <button class="search-btn" onclick="searchBusinesses()">
       <svg width="20" height="20" fill="white" viewbox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
       </svg></button>
     </div>
     <div class="menu-buttons"><button class="menu-btn" onclick="showAboutUs()">¿Quiénes Somos?</button> <button class="menu-btn" onclick="showServices()">Servicios que Prestamos</button>
     </div>
    </div>
   </div>
  </div><!-- Página Principal -->
  <div id="mainPage"><!-- Categorías -->
   <div class="categories-section">
    <div class="container">
     <h2 class="section-title">Categorías de Negocios</h2>
     <div class="categories-grid" id="categoriesGrid"><!-- Las categorías se generan dinámicamente -->
     </div>
    </div>
   </div><!-- Lista de negocios -->
   <div class="container">
    <div class="business-list" id="businessList">
     <h3 style="color: #151a2b; font-size: 24px; margin-bottom: 20px;">Resultados de Búsqueda</h3>
     <div id="businessResults"></div>
    </div>
   </div><!-- Panel de administración -->
   <div class="admin-panel">
    <div class="container">
     <div style="display: flex; align-items: center; justify-content: center; gap: 30px; flex-wrap: wrap;"><button class="admin-btn" onclick="goToAdminPage()">Administrador</button> <span style="color: #db3717; font-size: 24px; font-weight: bold;">Hecho por: Solum</span>
     </div>
    </div>
   </div>
  </div><!-- Página de Perfil del Negocio -->
  <div id="businessProfile" class="business-profile"><!-- Franja naranja superior -->
   <div class="top-banner"></div><!-- Logo de la empresa -->
   <div class="logo-section">
    <div class="container">
     <div class="company-logo">
      <svg viewbox="0 0 24 24"><path d="M12 2L2 7V10C2 16 6 20.5 12 22C18 20.5 22 16 22 10V7L12 2M12 4.14L20 8.23V10C20 15.25 16.87 19.17 12 20.84C7.13 19.17 4 15.25 4 10V8.23L12 4.14Z" />
      </svg>
     </div>
     <h1 class="company-name" id="profileCompanyName">Mi Empresa</h1>
    </div>
   </div><!-- Barra de menú -->
   <div class="menu-bar">
    <div class="container">
     <div class="menu-content">
      <div class="search-container"><input type="text" class="search-input" placeholder="Buscar negocios en tu ciudad..." readonly> <button class="search-btn">
        <svg width="20" height="20" fill="white" viewbox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
        </svg></button>
      </div>
      <div class="menu-buttons"><button class="menu-btn" onclick="goToMainPage()">← Volver al Inicio</button>
      </div>
     </div>
    </div>
   </div><!-- Perfil del Negocio -->
   <div class="profile-hero">
    <div class="container"><img id="profileLogo" class="profile-logo" src="" alt="Logo del negocio" onerror="this.src=''; this.alt='Logo no disponible'; this.style.display='none';">
     <h1 id="profileBusinessName" class="profile-name">Nombre del Negocio</h1><span id="profileBusinessCategory" class="profile-category">Categoría</span>
     <p id="profileBusinessDescription" class="profile-description">Descripción del negocio</p>
    </div>
   </div><!-- Contenido del Perfil -->
   <div class="profile-content">
    <div class="container"><!-- Sección de Contacto -->
     <div class="contact-section">
      <h3 class="contact-title">Contáctanos</h3>
      <div class="contact-buttons"><a id="instagramLink" href="#" target="_blank" rel="noopener noreferrer" class="contact-btn instagram-btn">
        <svg width="24" height="24" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
        </svg> Instagram </a> <a id="whatsappLink" href="#" target="_blank" rel="noopener noreferrer" class="contact-btn whatsapp-btn">
        <svg width="24" height="24" fill="currentColor" viewbox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488" />
        </svg> WhatsApp </a> <a id="phoneLink" href="#" class="contact-btn phone-btn">
        <svg width="24" height="24" fill="currentColor" viewbox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" />
        </svg> Teléfono </a> <a id="locationLink" href="#" target="_blank" rel="noopener noreferrer" class="contact-btn location-btn">
        <svg width="24" height="24" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
        </svg> Ubicación </a>
      </div>
      <div style="text-align: center; color: #666; font-size: 14px;">
       📍 <span id="profileBusinessAddress">Dirección del negocio</span>
      </div>
     </div><!-- Galería de Imágenes -->
     <div class="gallery-section">
      <h3 class="gallery-title">Galería de Imágenes</h3>
      <div class="gallery-container">
       <div id="galleryImages"><!-- Las imágenes se cargan dinámicamente -->
       </div>
      </div>
      <div class="gallery-indicators" id="galleryIndicators"><!-- Los indicadores se generan dinámicamente -->
      </div>
     </div>
    </div>
   </div>
  </div><!-- Página de Administrador -->
  <div id="adminPage" style="display: none;">
   <div class="admin-header">
    <div class="container">
     <div class="admin-nav"><button class="back-btn" onclick="goToMainPage()">
       <svg width="20" height="20" fill="white" viewbox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
       </svg> Volver al Inicio </button>
      <h2 class="admin-page-title">Panel de Administrador</h2>
     </div>
    </div>
   </div>
   <div class="admin-content">
    <div class="container"><!-- Estadísticas -->
     <div class="stats-section">
      <h3 class="section-subtitle">Estadísticas del Sistema</h3>
      <div class="stats-grid">
       <div class="stat-card">
        <div class="stat-number" id="totalBusinesses">
         0
        </div>
        <div class="stat-label">
         Total de Negocios
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-number" id="totalCategories">
         8
        </div>
        <div class="stat-label">
         Categorías Disponibles
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-number" id="activeBusinesses">
         0
        </div>
        <div class="stat-label">
         Negocios Activos
        </div>
       </div>
      </div>
     </div><!-- Gestión de Negocios -->
     <div class="management-section">
      <div class="section-header">
       <h3 class="section-subtitle">Gestión de Negocios</h3><button class="admin-btn" onclick="showAddBusinessModal()">+ Agregar Negocio</button>
      </div>
      <div class="business-table-container">
       <table class="business-table">
        <thead>
         <tr>
          <th>Nombre</th>
          <th>Categoría</th>
          <th>Dirección</th>
          <th>Teléfono</th>
          <th>Acciones</th>
         </tr>
        </thead>
        <tbody id="businessTableBody"><!-- Los negocios se cargan dinámicamente -->
        </tbody>
       </table>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Modal -->
  <div class="modal" id="modal">
   <div class="modal-content">
    <div class="modal-header">
     <h3 class="modal-title" id="modalTitle">Título del Modal</h3><button class="close-btn" onclick="closeModal()">×</button>
    </div>
    <div id="modalBody"><!-- Contenido del modal se genera dinámicamente -->
    </div>
   </div>
  </div>
  <script>
        // Configuración por defecto
        const defaultConfig = {
            company_name: "Mi Empresa",
            city_name: "Mi Ciudad",
            search_placeholder: "Buscar negocios en tu ciudad..."
        };

        // Datos de ejemplo
        let businesses = [
            {
                id: 1,
                name: "Hotel Plaza Central",
                category: "hoteles",
                address: "Av. Principal 123",
                phone: "555-0123",
                description: "Hotel de lujo en el centro de la ciudad con todas las comodidades.",
                logo: "https://via.placeholder.com/80x80/db3717/ffffff?text=HP",
                instagram: "https://instagram.com/hotelplaza",
                whatsapp: "555-0123",
                location: "https://maps.google.com/?q=Av.+Principal+123",
                gallery: [
                    "https://via.placeholder.com/400x300/db3717/ffffff?text=Hotel+1",
                    "https://via.placeholder.com/400x300/151a2b/ffffff?text=Hotel+2",
                    "https://via.placeholder.com/400x300/ff4d2e/ffffff?text=Hotel+3",
                    "https://via.placeholder.com/400x300/28a745/ffffff?text=Hotel+4"
                ]
            },
            {
                id: 2,
                name: "Restaurante El Buen Sabor",
                category: "restaurantes",
                address: "Calle Gastronómica 456",
                phone: "555-0456",
                description: "Comida tradicional con los mejores ingredientes locales.",
                logo: "https://via.placeholder.com/80x80/28a745/ffffff?text=RS",
                instagram: "https://instagram.com/buensabor",
                whatsapp: "555-0456",
                location: "https://maps.google.com/?q=Calle+Gastronómica+456",
                gallery: [
                    "https://via.placeholder.com/400x300/28a745/ffffff?text=Rest+1",
                    "https://via.placeholder.com/400x300/db3717/ffffff?text=Rest+2",
                    "https://via.placeholder.com/400x300/151a2b/ffffff?text=Rest+3",
                    "https://via.placeholder.com/400x300/ff4d2e/ffffff?text=Rest+4"
                ]
            },
            {
                id: 3,
                name: "Heladería Dulce Tentación",
                category: "heladerias",
                address: "Plaza de los Sabores 789",
                phone: "555-0789",
                description: "Helados artesanales con sabores únicos y naturales.",
                logo: "https://via.placeholder.com/80x80/ff4d2e/ffffff?text=DT",
                instagram: "https://instagram.com/dulcetentacion",
                whatsapp: "555-0789",
                location: "https://maps.google.com/?q=Plaza+de+los+Sabores+789",
                gallery: [
                    "https://via.placeholder.com/400x300/ff4d2e/ffffff?text=Helado+1",
                    "https://via.placeholder.com/400x300/db3717/ffffff?text=Helado+2",
                    "https://via.placeholder.com/400x300/28a745/ffffff?text=Helado+3",
                    "https://via.placeholder.com/400x300/151a2b/ffffff?text=Helado+4"
                ]
            }
        ];

        const categories = [
            { id: 'hoteles', name: 'Hoteles', icon: '🏨', count: 0 },
            { id: 'restaurantes', name: 'Restaurantes', icon: '🍽️', count: 0 },
            { id: 'heladerias', name: 'Heladerías', icon: '🍦', count: 0 },
            { id: 'tiendas', name: 'Tiendas', icon: '🛍️', count: 0 },
            { id: 'servicios', name: 'Servicios', icon: '🔧', count: 0 },
            { id: 'entretenimiento', name: 'Entretenimiento', icon: '🎭', count: 0 },
            { id: 'salud', name: 'Salud', icon: '🏥', count: 0 },
            { id: 'educacion', name: 'Educación', icon: '📚', count: 0 }
        ];

        // Inicialización
        function init() {
            updateCategoryCounts();
            renderCategories();
            loadBusinessesFromStorage();
        }

        function updateCategoryCounts() {
            categories.forEach(category => {
                category.count = businesses.filter(b => b.category === category.id).length;
            });
        }

        function renderCategories() {
            const grid = document.getElementById('categoriesGrid');
            grid.innerHTML = categories.map(category => `
                <div class="category-card" onclick="filterByCategory('${category.id}')">
                    <div class="category-icon">${category.icon}</div>
                    <div class="category-name">${category.name}</div>
                    <div class="category-count">${category.count} negocios</div>
                </div>
            `).join('');
        }

        function filterByCategory(categoryId) {
            const filtered = businesses.filter(b => b.category === categoryId);
            const categoryName = categories.find(c => c.id === categoryId)?.name || 'Categoría';
            showBusinessResults(filtered, `Negocios en ${categoryName}`);
        }

        function searchBusinesses() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            if (!query) {
                document.getElementById('businessList').style.display = 'none';
                return;
            }

            const filtered = businesses.filter(b => 
                b.name.toLowerCase().includes(query) ||
                b.description.toLowerCase().includes(query) ||
                b.address.toLowerCase().includes(query)
            );

            showBusinessResults(filtered, `Resultados para "${query}"`);
        }

        function showBusinessResults(businessList, title) {
            const resultsContainer = document.getElementById('businessResults');
            const listContainer = document.getElementById('businessList');
            
            resultsContainer.innerHTML = businessList.length > 0 
                ? businessList.map(business => `
                    <div class="business-card">
                        <div class="business-logo">
                            <img src="${business.logo || 'https://via.placeholder.com/80x80/db3717/ffffff?text=' + business.name.charAt(0)}" 
                                 alt="Logo de ${business.name}" 
                                 onerror="this.src='https://via.placeholder.com/80x80/db3717/ffffff?text=${business.name.charAt(0)}'; this.alt='Logo no disponible';">
                        </div>
                        <div class="business-header">
                            <h4 class="business-name">${business.name}</h4>
                            <span class="business-category">${categories.find(c => c.id === business.category)?.name || business.category}</span>
                        </div>
                        <div class="business-info">
                            📍 ${business.address} | 📞 ${business.phone}
                        </div>
                        <div class="business-description">${business.description}</div>
                        <div class="business-actions">
                            <button class="view-profile-btn" onclick="viewBusinessProfile(${business.id})">
                                Ver Perfil Completo
                            </button>
                        </div>
                    </div>
                `).join('')
                : '<p style="text-align: center; color: #666; padding: 40px;">No se encontraron negocios que coincidan con tu búsqueda.</p>';

            listContainer.querySelector('h3').textContent = title;
            listContainer.style.display = 'block';
            listContainer.scrollIntoView({ behavior: 'smooth' });
        }

        function showAddBusinessModal() {
            document.getElementById('modalTitle').textContent = 'Agregar Nuevo Negocio';
            document.getElementById('modalBody').innerHTML = `
                <form onsubmit="addBusiness(event)">
                    <div class="form-group">
                        <label class="form-label">Nombre del Negocio</label>
                        <input type="text" class="form-input" name="name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Categoría</label>
                        <select class="form-select" name="category" required>
                            <option value="">Seleccionar categoría</option>
                            ${categories.map(cat => `<option value="${cat.id}">${cat.name}</option>`).join('')}
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Dirección</label>
                        <input type="text" class="form-input" name="address" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Teléfono</label>
                        <input type="tel" class="form-input" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descripción</label>
                        <textarea class="form-textarea" name="description" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL del Logo (opcional)</label>
                        <input type="url" class="form-input" name="logo" placeholder="https://ejemplo.com/logo.jpg">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Instagram (opcional)</label>
                        <input type="url" class="form-input" name="instagram" placeholder="https://instagram.com/usuario">
                    </div>
                    <div class="form-group">
                        <label class="form-label">WhatsApp (número)</label>
                        <input type="tel" class="form-input" name="whatsapp" placeholder="555-0123">
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL de Ubicación (opcional)</label>
                        <input type="url" class="form-input" name="location" placeholder="https://maps.google.com/?q=direccion">
                    </div>
                    <div class="form-group">
                        <label class="form-label">URLs de Galería (separadas por comas)</label>
                        <textarea class="form-textarea" name="gallery" placeholder="https://ejemplo.com/img1.jpg, https://ejemplo.com/img2.jpg"></textarea>
                    </div>
                    <button type="submit" class="submit-btn">Agregar Negocio</button>
                </form>
            `;
            document.getElementById('modal').style.display = 'block';
        }

        function addBusiness(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            
            // Procesar galería de imágenes
            const galleryText = formData.get('gallery') || '';
            const galleryUrls = galleryText.split(',').map(url => url.trim()).filter(url => url);
            
            const newBusiness = {
                id: Date.now(),
                name: formData.get('name'),
                category: formData.get('category'),
                address: formData.get('address'),
                phone: formData.get('phone'),
                description: formData.get('description'),
                logo: formData.get('logo') || '',
                instagram: formData.get('instagram') || '',
                whatsapp: formData.get('whatsapp') || formData.get('phone'),
                location: formData.get('location') || '',
                gallery: galleryUrls.length > 0 ? galleryUrls : [
                    `https://via.placeholder.com/400x300/db3717/ffffff?text=${encodeURIComponent(formData.get('name'))}+1`,
                    `https://via.placeholder.com/400x300/151a2b/ffffff?text=${encodeURIComponent(formData.get('name'))}+2`,
                    `https://via.placeholder.com/400x300/ff4d2e/ffffff?text=${encodeURIComponent(formData.get('name'))}+3`
                ]
            };

            businesses.push(newBusiness);
            saveBusinessesToStorage();
            updateCategoryCounts();
            renderCategories();
            closeModal();
            
            // Mostrar mensaje de éxito
            showSuccessMessage('¡Negocio agregado exitosamente!');
        }

        function showManageBusinesses() {
            document.getElementById('modalTitle').textContent = 'Gestionar Negocios';
            document.getElementById('modalBody').innerHTML = `
                <div style="max-height: 400px; overflow-y: auto;">
                    ${businesses.length > 0 
                        ? businesses.map(business => `
                            <div class="business-card" style="margin-bottom: 15px;">
                                <div class="business-header">
                                    <h4 class="business-name">${business.name}</h4>
                                    <button onclick="deleteBusiness(${business.id})" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Eliminar</button>
                                </div>
                                <div class="business-info">
                                    📍 ${business.address} | 📞 ${business.phone}
                                </div>
                                <div class="business-description">${business.description}</div>
                            </div>
                        `).join('')
                        : '<p style="text-align: center; color: #666; padding: 40px;">No hay negocios registrados.</p>'
                    }
                </div>
            `;
            document.getElementById('modal').style.display = 'block';
        }

        function deleteBusiness(id) {
            businesses = businesses.filter(b => b.id !== id);
            saveBusinessesToStorage();
            updateCategoryCounts();
            renderCategories();
            
            // Si estamos en la página de administrador, actualizar la tabla
            if (document.getElementById('adminPage').style.display !== 'none') {
                updateAdminStats();
                loadBusinessTable();
            } else {
                showManageBusinesses(); // Refresh the modal si estamos en la página principal
            }
            
            showSuccessMessage('Negocio eliminado exitosamente');
        }

        function showAboutUs() {
            document.getElementById('modalTitle').textContent = '¿Quiénes Somos?';
            document.getElementById('modalBody').innerHTML = `
                <div style="line-height: 1.6; color: #333;">
                    <p>Somos una plataforma digital dedicada a conectar a los ciudadanos con los mejores negocios locales de su ciudad.</p>
                    <p>Nuestra misión es promover el comercio local y facilitar que las personas descubran nuevos lugares y servicios en su comunidad.</p>
                    <h4 style="color: #151a2b; margin-top: 25px;">Nuestros Valores:</h4>
                    <ul>
                        <li>🤝 Apoyo al comercio local</li>
                        <li>🌟 Calidad en el servicio</li>
                        <li>💡 Innovación tecnológica</li>
                        <li>🏘️ Compromiso con la comunidad</li>
                    </ul>
                </div>
            `;
            document.getElementById('modal').style.display = 'block';
        }

        function showServices() {
            document.getElementById('modalTitle').textContent = 'Servicios que Prestamos';
            document.getElementById('modalBody').innerHTML = `
                <div style="line-height: 1.6; color: #333;">
                    <h4 style="color: #151a2b;">Para Negocios:</h4>
                    <ul>
                        <li>📝 Registro y publicación de negocios</li>
                        <li>📊 Gestión de información comercial</li>
                        <li>🎯 Categorización por sectores</li>
                        <li>📱 Visibilidad en plataforma digital</li>
                    </ul>
                    
                    <h4 style="color: #151a2b; margin-top: 25px;">Para Usuarios:</h4>
                    <ul>
                        <li>🔍 Búsqueda avanzada de negocios</li>
                        <li>🗂️ Navegación por categorías</li>
                        <li>📍 Información de contacto y ubicación</li>
                        <li>💼 Descubrimiento de servicios locales</li>
                    </ul>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-top: 20px; text-align: center;">
                        <strong style="color: #db3717;">¡Conectamos tu ciudad con sus mejores negocios!</strong>
                    </div>
                </div>
            `;
            document.getElementById('modal').style.display = 'block';
        }

        function showSettings() {
            document.getElementById('modalTitle').textContent = 'Configuración de la Plataforma';
            document.getElementById('modalBody').innerHTML = `
                <form onsubmit="saveSettings(event)">
                    <div class="form-group">
                        <label class="form-label">Nombre de la Empresa</label>
                        <input type="text" class="form-input" name="companyName" value="${document.getElementById('companyName').textContent}">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nombre de la Ciudad</label>
                        <input type="text" class="form-input" name="cityName" value="Mi Ciudad">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Texto del Buscador</label>
                        <input type="text" class="form-input" name="searchPlaceholder" value="${document.getElementById('searchInput').placeholder}">
                    </div>
                    <button type="submit" class="submit-btn">Guardar Configuración</button>
                </form>
            `;
            document.getElementById('modal').style.display = 'block';
        }

        function saveSettings(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            
            document.getElementById('companyName').textContent = formData.get('companyName');
            document.getElementById('searchInput').placeholder = formData.get('searchPlaceholder');
            
            closeModal();
            showSuccessMessage('Configuración guardada exitosamente');
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                z-index: 1001;
                font-weight: 600;
                box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            `;
            successDiv.textContent = message;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                document.body.removeChild(successDiv);
            }, 3000);
        }

        // Funciones de navegación
        function goToAdminPage() {
            // Limpiar slideshow si está activo
            if (galleryInterval) {
                clearInterval(galleryInterval);
            }

            document.getElementById('mainPage').style.display = 'none';
            document.getElementById('adminPage').style.display = 'block';
            document.getElementById('businessProfile').style.display = 'none';
            updateAdminStats();
            loadBusinessTable();
        }

        function updateAdminStats() {
            document.getElementById('totalBusinesses').textContent = businesses.length;
            document.getElementById('activeBusinesses').textContent = businesses.length;
        }

        function loadBusinessTable() {
            const tbody = document.getElementById('businessTableBody');
            tbody.innerHTML = businesses.length > 0 
                ? businesses.map(business => `
                    <tr>
                        <td><strong>${business.name}</strong></td>
                        <td>
                            <span style="background: #db3717; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                                ${categories.find(c => c.id === business.category)?.name || business.category}
                            </span>
                        </td>
                        <td>${business.address}</td>
                        <td>${business.phone}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="edit-btn" onclick="editBusiness(${business.id})">Editar</button>
                                <button class="delete-btn" onclick="confirmDeleteBusiness(${business.id})">Eliminar</button>
                            </div>
                        </td>
                    </tr>
                `).join('')
                : '<tr><td colspan="5" style="text-align: center; color: #666; padding: 40px;">No hay negocios registrados</td></tr>';
        }

        function editBusiness(id) {
            const business = businesses.find(b => b.id === id);
            if (!business) return;

            document.getElementById('modalTitle').textContent = 'Editar Negocio';
            document.getElementById('modalBody').innerHTML = `
                <form onsubmit="updateBusiness(event, ${id})">
                    <div class="form-group">
                        <label class="form-label">Nombre del Negocio</label>
                        <input type="text" class="form-input" name="name" value="${business.name}" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Categoría</label>
                        <select class="form-select" name="category" required>
                            ${categories.map(cat => `<option value="${cat.id}" ${cat.id === business.category ? 'selected' : ''}>${cat.name}</option>`).join('')}
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Dirección</label>
                        <input type="text" class="form-input" name="address" value="${business.address}" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Teléfono</label>
                        <input type="tel" class="form-input" name="phone" value="${business.phone}" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descripción</label>
                        <textarea class="form-textarea" name="description" required>${business.description}</textarea>
                    </div>
                    <button type="submit" class="submit-btn">Actualizar Negocio</button>
                </form>
            `;
            document.getElementById('modal').style.display = 'block';
        }

        function updateBusiness(event, id) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const businessIndex = businesses.findIndex(b => b.id === id);
            
            if (businessIndex !== -1) {
                businesses[businessIndex] = {
                    ...businesses[businessIndex],
                    name: formData.get('name'),
                    category: formData.get('category'),
                    address: formData.get('address'),
                    phone: formData.get('phone'),
                    description: formData.get('description')
                };

                saveBusinessesToStorage();
                updateCategoryCounts();
                renderCategories();
                updateAdminStats();
                loadBusinessTable();
                closeModal();
                showSuccessMessage('¡Negocio actualizado exitosamente!');
            }
        }

        function confirmDeleteBusiness(id) {
            const business = businesses.find(b => b.id === id);
            if (!business) return;

            document.getElementById('modalTitle').textContent = 'Confirmar Eliminación';
            document.getElementById('modalBody').innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 48px; color: #dc3545; margin-bottom: 20px;">⚠️</div>
                    <h4 style="color: #151a2b; margin-bottom: 15px;">¿Estás seguro de que deseas eliminar este negocio?</h4>
                    <p style="color: #666; margin-bottom: 25px;"><strong>${business.name}</strong></p>
                    <p style="color: #dc3545; font-size: 14px; margin-bottom: 30px;">Esta acción no se puede deshacer.</p>
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button onclick="closeModal()" style="background: #6c757d; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer;">Cancelar</button>
                        <button onclick="deleteBusiness(${id}); closeModal();" style="background: #dc3545; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer;">Eliminar</button>
                    </div>
                </div>
            `;
            document.getElementById('modal').style.display = 'block';
        }

        function saveBusinessesToStorage() {
            localStorage.setItem('localBusinesses', JSON.stringify(businesses));
        }

        function loadBusinessesFromStorage() {
            const stored = localStorage.getItem('localBusinesses');
            if (stored) {
                businesses = JSON.parse(stored);
                updateCategoryCounts();
                renderCategories();
            }
        }

        // Event listeners
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchBusinesses();
            }
        });

        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target === modal) {
                closeModal();
            }
        };

        // SDK Integration
        if (window.elementSdk) {
            const element = {
                defaultConfig: defaultConfig,
                render: async function(config) {
                    document.getElementById('companyName').textContent = config.company_name || defaultConfig.company_name;
                    document.getElementById('searchInput').placeholder = config.search_placeholder || defaultConfig.search_placeholder;
                },
                mapToCapabilities: function(config) {
                    return {
                        recolorables: [],
                        borderables: [],
                        fontEditable: undefined,
                        fontSizeable: undefined
                    };
                },
                mapToEditPanelValues: function(config) {
                    return new Map([
                        ["company_name", config.company_name || defaultConfig.company_name],
                        ["city_name", config.city_name || defaultConfig.city_name],
                        ["search_placeholder", config.search_placeholder || defaultConfig.search_placeholder]
                    ]);
                }
            };

            window.elementSdk.init(element);
        }

        // Funciones para el perfil del negocio
        let currentGalleryIndex = 0;
        let galleryInterval;

        function viewBusinessProfile(businessId) {
            const business = businesses.find(b => b.id === businessId);
            if (!business) return;

            // Ocultar página principal y mostrar perfil
            document.getElementById('mainPage').style.display = 'none';
            document.getElementById('adminPage').style.display = 'none';
            document.getElementById('businessProfile').style.display = 'block';

            // Actualizar información del perfil
            document.getElementById('profileCompanyName').textContent = document.getElementById('companyName').textContent;
            document.getElementById('profileLogo').src = business.logo || `https://via.placeholder.com/150x150/db3717/ffffff?text=${business.name.charAt(0)}`;
            document.getElementById('profileBusinessName').textContent = business.name;
            document.getElementById('profileBusinessCategory').textContent = categories.find(c => c.id === business.category)?.name || business.category;
            document.getElementById('profileBusinessDescription').textContent = business.description;
            document.getElementById('profileBusinessAddress').textContent = business.address;

            // Configurar enlaces de contacto
            document.getElementById('instagramLink').href = business.instagram || '#';
            document.getElementById('whatsappLink').href = business.whatsapp ? `https://wa.me/${business.whatsapp.replace(/[^0-9]/g, '')}` : '#';
            document.getElementById('phoneLink').href = `tel:${business.phone}`;
            document.getElementById('locationLink').href = business.location || '#';

            // Configurar galería
            setupGallery(business.gallery || []);

            // Scroll al inicio
            window.scrollTo(0, 0);
        }

        function setupGallery(images) {
            const galleryContainer = document.getElementById('galleryImages');
            const indicatorsContainer = document.getElementById('galleryIndicators');

            if (!images || images.length === 0) {
                galleryContainer.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">No hay imágenes disponibles</p>';
                indicatorsContainer.innerHTML = '';
                return;
            }

            // Crear imágenes
            galleryContainer.innerHTML = images.map((img, index) => `
                <img src="${img}" 
                     alt="Imagen ${index + 1}" 
                     class="gallery-image ${index === 0 ? 'active' : ''}"
                     onerror="this.src='https://via.placeholder.com/400x300/db3717/ffffff?text=Imagen+${index + 1}'; this.alt='Imagen no disponible';">
            `).join('');

            // Crear indicadores
            indicatorsContainer.innerHTML = images.map((_, index) => `
                <div class="gallery-dot ${index === 0 ? 'active' : ''}" onclick="showGalleryImage(${index})"></div>
            `).join('');

            // Inicializar slideshow automático
            currentGalleryIndex = 0;
            startGallerySlideshow(images.length);
        }

        function showGalleryImage(index) {
            const images = document.querySelectorAll('.gallery-image');
            const dots = document.querySelectorAll('.gallery-dot');

            // Remover clase active de todos
            images.forEach(img => img.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));

            // Agregar clase active al seleccionado
            if (images[index]) images[index].classList.add('active');
            if (dots[index]) dots[index].classList.add('active');

            currentGalleryIndex = index;
        }

        function startGallerySlideshow(totalImages) {
            // Limpiar intervalo anterior si existe
            if (galleryInterval) {
                clearInterval(galleryInterval);
            }

            // Solo iniciar slideshow si hay más de una imagen
            if (totalImages <= 1) return;

            galleryInterval = setInterval(() => {
                currentGalleryIndex = (currentGalleryIndex + 1) % totalImages;
                showGalleryImage(currentGalleryIndex);
            }, 4000); // Cambiar cada 4 segundos
        }

        function goToMainPage() {
            // Limpiar slideshow
            if (galleryInterval) {
                clearInterval(galleryInterval);
            }

            // Mostrar página principal y ocultar otras
            document.getElementById('mainPage').style.display = 'block';
            document.getElementById('adminPage').style.display = 'none';
            document.getElementById('businessProfile').style.display = 'none';

            // Scroll al inicio
            window.scrollTo(0, 0);
        }

        // Inicializar la aplicación
        init();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'991afca6278e7425',t:'MTc2MDk4OTIyNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
